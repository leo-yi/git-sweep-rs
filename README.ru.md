# git-sweep-rs

[English](README.en.md) ¬∑ [ÁÆÄ‰Ωì‰∏≠Êñá](README.zh-CN.md) ¬∑ [ÁπÅÈ´î‰∏≠Êñá](README.zh-TW.md) ¬∑ [‡§π‡§ø‡§®‡•ç‡§¶‡•Ä](README.hi.md) ¬∑ [Fran√ßais](README.fr.md) ¬∑ [–†—É—Å—Å–∫–∏–π](README.ru.md)

> ‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ: —Å–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º**
>
> –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —ç—Ç–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–∞–∂–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é). –≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–¥–∞–ª—è–µ—Ç –≤–µ—Ç–∫–∏, –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫ –Ω–µ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `git-sweep-rs preview`, —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–µ—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ `cleanup` –∏–ª–∏ `cleanup-local`. –î–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--force` (—Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é).

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –≤–µ—Ç–æ–∫ Git, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Rust, –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ —É–¥–∞–ª—è—Ç—å –≤–µ—Ç–∫–∏, —É–∂–µ —Å–ª–∏—Ç—ã–µ –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É (—É–¥–∞–ª—ë–Ω–Ω—ã–µ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ).

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üöÄ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Rust
- üîç –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä: –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –≤–µ—Ç–æ–∫ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
- üåê –û—á–∏—Å—Ç–∫–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫: —É–¥–∞–ª—è–µ—Ç —É–¥–∞–ª—ë–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏, —Å–ª–∏—Ç—ã–µ –≤ main
- üíª –û—á–∏—Å—Ç–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫: —É–¥–∞–ª—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏, —Å–ª–∏—Ç—ã–µ –≤ main
- üéØ –ì–∏–±–∫–æ—Å—Ç—å: –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –∏–º—è –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–∏ –∏ —Å–ø–∏—Å–æ–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º (`--force` –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞)

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [Rust](https://www.rust-lang.org/tools/install), –∑–∞—Ç–µ–º:

```bash
git clone https://github.com/leo-yi/git-sweep-rs
cd git-sweep-rs
cargo build --release
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É

**–ú–µ—Ç–æ–¥ 1: —á–µ—Ä–µ–∑ `cargo install`**

```bash
cargo install --path .
```

**–ú–µ—Ç–æ–¥ 2: —Ä—É—á–Ω–∞—è –∫–æ–ø–∏—è**

```bash
sudo cp target/release/git-sweep-rs /usr/local/bin/
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –£–¥–∞–ª—ë–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏

#### –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤–µ—Ç–æ–∫ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

```bash
git-sweep-rs preview --origin origin --master master
```

#### –£–¥–∞–ª–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫

```bash
# –∑–∞–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
git-sweep-rs cleanup --origin origin --master master

# –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
git-sweep-rs cleanup --force --origin origin --master master
```

### –õ–æ–∫–∞–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏

#### –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

```bash
git-sweep-rs preview-local --master master
```

#### –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫

```bash
# –∑–∞–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
git-sweep-rs cleanup-local --master master

# –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
git-sweep-rs cleanup-local --force --master master
```

## üìñ –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—ä–µ–∫—Ç |
|--------:|:--------|:------|
| `preview` | –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è | —É–¥–∞–ª—ë–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏ |
| `cleanup` | –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª–∏—Ç—ã—Ö —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫ | —É–¥–∞–ª—ë–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏ |
| `preview-local` | –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è | –ª–æ–∫–∞–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏ |
| `cleanup-local` | –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª–∏—Ç—ã—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫ | –ª–æ–∫–∞–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏ |

### –û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

#### preview / cleanup

- `--origin <ORIGIN>`: –∏–º—è remote (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `origin`)
- `--master <MASTER>`: –∏–º—è –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `master`)
- `--nofetch`: –Ω–µ –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ
- `--skip <BRANCHES>`: —Å–ø–∏—Å–æ–∫ –≤–µ—Ç–æ–∫ –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
- `--force`: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è cleanup)

#### preview-local / cleanup-local

- `--master <MASTER>`: –∏–º—è –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `master`)
- `--skip <BRANCHES>`: —Å–ø–∏—Å–æ–∫ –≤–µ—Ç–æ–∫ –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
- `--force`: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è cleanup-local)

## üí° –ü—Ä–∏–º–µ—Ä—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û—á–∏—Å—Ç–∫–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫

```bash
# 1. –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤–µ—Ç–æ–∫ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
git-sweep-rs preview --origin origin --master main

# 2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∏ —É–¥–∞–ª–∏—Ç–µ
git-sweep-rs cleanup --origin origin --master main
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—á–∏—Å—Ç–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫

```bash
# 1. –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
git-sweep-rs preview-local --master main

# 2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∏ —É–¥–∞–ª–∏—Ç–µ
git-sweep-rs cleanup-local --master main
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤–µ—Ç–∫–∏

```bash
# –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å develop –∏ staging
git-sweep-rs preview --master main --skip "develop,staging"
git-sweep-rs cleanup --master main --skip "develop,staging"
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ù–µ –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ

```bash
# –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
git-sweep-rs preview --nofetch
git-sweep-rs cleanup --nofetch
```

## ‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏—è

1. –£–¥–∞–ª–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫ ‚Äî —ç—Ç–æ —Ä–∞–∑—Ä—É—à–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `preview` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
   - –£–¥–∞–ª—ë–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏ –Ω–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Å—Ç–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
   - –ö–æ–ª–ª–µ–≥–∞–º –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `git fetch --prune` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

2. –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫
   - –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `git branch -d`
   - –î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `git branch -D`

3. –ò–º—è –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–∏
   - –í–æ –º–Ω–æ–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `main` –≤–º–µ—Å—Ç–æ `master`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--master main`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û—á–∏—Å—Ç–∫–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫

1. –ü–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ (–µ—Å–ª–∏ –Ω–µ `--nofetch`)
2. –°–ø–∏—Å–æ–∫ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫ —á–µ—Ä–µ–∑ `git for-each-ref`
3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `git cherry` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–ª–∏—è–Ω–∏—è —Å main
4. –°–ø–∏—Å–æ–∫ —Å–ª–∏—è–Ω–∏–π
5. –£–¥–∞–ª—è–µ—Ç –≤–µ—Ç–∫—É: `git push origin :branch`

### –û—á–∏—Å—Ç–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫

1. –°–ø–∏—Å–æ–∫ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Å–ª–∏—Ç—ã, —á–µ—Ä–µ–∑ `git branch --merged`
2. –ò—Å–∫–ª—é—á–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É –∏ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–ø—É—Å–∫–æ–≤
3. –°–ø–∏—Å–æ–∫ —Å–ª–∏—è–Ω–∏–π
4. –£–¥–∞–ª—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ç–∫—É —á–µ—Ä–µ–∑ `git branch -d`

## ü§ù –í–∫–ª–∞–¥

Issues –∏ PR –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–í–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–æ Python –ø—Ä–æ–µ–∫—Ç–æ–º [git-sweep](https://github.com/arc90/git-sweep).

## üìÆ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:

- –û—Ç–∫—Ä–æ–π—Ç–µ [Issue](https://github.com/leo-yi/git-sweep-rs/issues)
- –°–æ–∑–¥–∞–π—Ç–µ [Pull Request](https://github.com/leo-yi/git-sweep-rs/pulls)

---

‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–µ–∑–µ–Ω ‚Äî –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É!

