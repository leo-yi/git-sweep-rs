# git-sweep-rs

[English](README.en.md) ┬╖ [чоАф╜Уф╕нцЦЗ](README.zh-CN.md) ┬╖ [ч╣БщлФф╕нцЦЗ](README.zh-TW.md) ┬╖ [рд╣рд┐рдиреНрджреА](README.hi.md) ┬╖ [Fran├зais](README.fr.md) ┬╖ [╨а╤Г╤Б╤Б╨║╨╕╨╣](README.ru.md)

> тЪая╕П **рдЪреЗрддрд╛рд╡рдиреА: рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЕрдкрдиреЗ рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдХрд╛ рдмреИрдХрдЕрдк рд▓реЗрдВ**
>
> рдХреГрдкрдпрд╛ рдЗрд╕ рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЕрдкрдирд╛ рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдмреИрдХрдЕрдк рд▓реЗрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдорд╣рддреНрд╡рдкреВрд░реНрдг рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪ рдХреЛ рд░рд┐рдореЛрдЯ рдкрд░ рдкреБрд╢ рдХрд░реЗрдВ рдпрд╛ рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдХрд╛ рдмреИрдХрдЕрдк рдмрдирд╛рдПрдВ)ред рдпрд╣ рдЯреВрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕ рдХреЛ рд╣рдЯрд╛рддрд╛ рд╣реИ рдФрд░ рд╣рдЯрд╛рдирд╛ рдЕрд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рд╣рдЯрд╛рдирд╛ рд╣реИред рдкрд╣рд▓реА рдмрд╛рд░ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП `git-sweep-rs preview` рдЪрд▓рд╛рдХрд░ рджреЗрдЦреЗрдВ рдХрд┐ рдХреМрди-рд╕реА рдмреНрд░рд╛рдВрдЪ рд╣рдЯреЗрдВрдЧреА, рдФрд░ рдкреБрд╖реНрдЯрд┐ рдХреЗ рдмрд╛рдж рд╣реА `cleanup` рдпрд╛ `cleanup-local` рдЪрд▓рд╛рдПрдВред рдкреБрд╖реНрдЯрд┐ рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП `--force` рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░реЗрдВ (рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ)ред

Rust рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рдПрдХ Git рдмреНрд░рд╛рдВрдЪ рдХреНрд▓реАрдирдЕрдк рдЯреВрд▓ рдЬреЛ рд░рд┐рдореЛрдЯ рдФрд░ рд▓реЛрдХрд▓ рджреЛрдиреЛрдВ, рдореБрдЦреНрдп рдмреНрд░рд╛рдВрдЪ рдореЗрдВ рдорд░реНрдЬ рд╣реЛ рдЪреБрдХреА рдмреНрд░рд╛рдВрдЪреЗрд╕ рдХреЛ рдЬрд▓реНрджреА рд╣рдЯрд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред

## тЬи рдлреАрдЪрд░реНрд╕

- ЁЯЪА рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди: рдЧрддрд┐ рдХреЗ рд▓рд┐рдП Rust рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛
- ЁЯФН рд╕реБрд░рдХреНрд╖рд┐рдд рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди: рд╣рдЯрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдмреНрд░рд╛рдВрдЪреЗрд╕ рдХреЛ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди рдХрд░реЗрдВ
- ЁЯМР рд░рд┐рдореЛрдЯ рдХреНрд▓реАрдирдЕрдк: рдореБрдЦреНрдп рдмреНрд░рд╛рдВрдЪ рдореЗрдВ рдорд░реНрдЬ рд╣реБрдИ рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ рд╣рдЯрд╛рдПрдВ
- ЁЯТ╗ рд▓реЛрдХрд▓ рдХреНрд▓реАрдирдЕрдк: рдореБрдЦреНрдп рдмреНрд░рд╛рдВрдЪ рдореЗрдВ рдорд░реНрдЬ рд╣реБрдИ рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕ рд╣рдЯрд╛рдПрдВ
- ЁЯОп рд▓рдЪреАрд▓рд╛: рдореБрдЦреНрдп рдмреНрд░рд╛рдВрдЪ рдирд╛рдо рдФрд░ рд╕реНрдХрд┐рдк рд╕реВрдЪреА рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ
- тЬЕ рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдХрдиреНрдлрд░реНрдореЗрд╢рди: рд╣рдЯрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдкреБрд╖реНрдЯрд┐ рдорд╛рдБрдЧрддрд╛ рд╣реИ (`--force` рд╕реЗ рдЫреЛрдбрд╝реЗрдВ)

## ЁЯУж рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди

### рд╕реЛрд░реНрд╕ рд╕реЗ рдмрд┐рд▓реНрдб рдХрд░реЗрдВ

рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ [Rust](https://www.rust-lang.org/tools/install) рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реИ, рдлрд┐рд░:

```bash
git clone https://github.com/leo-yi/git-sweep-rs
cd git-sweep-rs
cargo build --release
```

### рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ

**рд╡рд┐рдЬреНрдЮрдкреНрддрд┐ 1: cargo install рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ**

```bash
cargo install --path .
```

**рд╡рд┐рдХрд▓реНрдк 2: рдореИрдиреБрдЕрд▓ рдХреЙрдкреА**

```bash
sudo cp target/release/git-sweep-rs /usr/local/bin/
```

## ЁЯЪА рдЙрдкрдпреЛрдЧ

### рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕

#### рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ рдХрд╛ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди

```bash
git-sweep-rs preview --origin origin --master master
```

#### рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ рд╣рдЯрд╛рдПрдБ

```bash
# рд╣рдЯрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдкреБрд╖реНрдЯрд┐ рдкреВрдЫреЗрдЧрд╛
git-sweep-rs cleanup --origin origin --master master

# рдкреБрд╖реНрдЯрд┐ рдХреЗ рдмрд┐рдирд╛ рдлреЛрд░реНрд╕ рд╣рдЯрд╛рдПрдБ
git-sweep-rs cleanup --force --origin origin --master master
```

### рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕

#### рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕ рдХрд╛ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди

```bash
git-sweep-rs preview-local --master master
```

#### рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕ рд╣рдЯрд╛рдПрдБ

```bash
# рд╣рдЯрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдкреБрд╖реНрдЯрд┐ рдкреВрдЫреЗрдЧрд╛
git-sweep-rs cleanup-local --master master

# рдкреБрд╖реНрдЯрд┐ рдХреЗ рдмрд┐рдирд╛ рдлреЛрд░реНрд╕ рд╣рдЯрд╛рдПрдБ
git-sweep-rs cleanup-local --force --master master
```

## ЁЯУЦ рдХрдорд╛рдВрдбреНрд╕

| рдХрдорд╛рдВрдб | рд╡рд┐рд╡рд░рдг | рд▓рдХреНрд╖реНрдп |
|------:|:------|:------|
| `preview` | рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ рдХрд╛ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди | рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ |
| `cleanup` | рдорд░реНрдЬ рд╣реБрдИ рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ рд╣рдЯрд╛рдПрдБ | рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ |
| `preview-local` | рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕ рдХрд╛ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди | рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕ |
| `cleanup-local` | рдорд░реНрдЬ рд╣реБрдИ рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕ рд╣рдЯрд╛рдПрдБ | рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕ |

### рд╕рд╛рдорд╛рдиреНрдп рд╡рд┐рдХрд▓реНрдк

- `--origin <ORIGIN>`: рд░рд┐рдореЛрдЯ рдХрд╛ рдирд╛рдо (рдбрд┐рдлрд╝реЙрд▓реНрдЯ: `origin`)
- `--master <MASTER>`: рдореБрдЦреНрдп рдмреНрд░рд╛рдВрдЪ рдХрд╛ рдирд╛рдо (рдбрд┐рдлрд╝реЙрд▓реНрдЯ: `master`)
- `--nofetch`: рд░рд┐рдореЛрдЯ рд╕реЗ рдЕрдкрдбреЗрдЯ рди рд▓рд╛рдПрдБ
- `--skip <BRANCHES>`: рд╕реНрдХрд┐рдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрдорд╛-рд╕реЗрдкрд░реЗрдЯреЗрдб рдмреНрд░рд╛рдВрдЪ рд╕реВрдЪреА
- `--force`: рдкреБрд╖реНрдЯрд┐ рдХреЗ рдмрд┐рдирд╛ рдлреЛрд░реНрд╕ рд╣рдЯрд╛рдПрдБ (рдХреЗрд╡рд▓ cleanup)

## ЁЯТб рдЙрджрд╛рд╣рд░рдг

### рдЙрджрд╛рд╣рд░рдг 1: рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ рд╕рд╛рдлрд╝ рдХрд░реЗрдВ

```bash
# 1. рдкрд╣рд▓реЗ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди рдХрд░реЗрдВ
git-sweep-rs preview --origin origin --master main

# 2. рдкреБрд╖реНрдЯрд┐ рдХреЗ рдмрд╛рдж рд╣рдЯрд╛рдПрдБ
git-sweep-rs cleanup --origin origin --master main
```

### рдЙрджрд╛рд╣рд░рдг 2: рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕ рд╕рд╛рдлрд╝ рдХрд░реЗрдВ

```bash
# 1. рдкрд╣рд▓реЗ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди рдХрд░реЗрдВ
git-sweep-rs preview-local --master main

# 2. рдкреБрд╖реНрдЯрд┐ рдХреЗ рдмрд╛рдж рд╣рдЯрд╛рдПрдБ
git-sweep-rs cleanup-local --master main
```

### рдЙрджрд╛рд╣рд░рдг 3: рдХреБрдЫ рдмреНрд░рд╛рдВрдЪ рд╕реНрдХрд┐рдк рдХрд░реЗрдВ

```bash
# develop рдФрд░ staging рдХреЛ рд╕реНрдХрд┐рдк рдХрд░реЗрдВ
git-sweep-rs preview --master main --skip "develop,staging"
git-sweep-rs cleanup --master main --skip "develop,staging"
```

### рдЙрджрд╛рд╣рд░рдг 4: рд░рд┐рдореЛрдЯ рдЕрдкрдбреЗрдЯ рди рд▓реЗрдВ

```bash
# рд▓реЛрдХрд▓ рдХреИрд╢реНрдб рд░рд┐рдореЛрдЯ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
git-sweep-rs preview --nofetch
git-sweep-rs cleanup --nofetch
```

## тЪая╕П рдиреЛрдЯреНрд╕

1. рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ рд╣рдЯрд╛рдирд╛ рд╡рд┐рдирд╛рд╢рдХрд╛рд░реА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ
   - рдкрд╣рд▓реЗ `preview` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
   - рд╣рдЯрд╛рдпреЗ рдЧрдпреЗ рд░рд┐рдореЛрдЯ рдмреНрд░рд╛рдВрдЪреЗрд╕ рдЖрд╕рд╛рдиреА рд╕реЗ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ
   - рдЕрдиреНрдп рд╕рд╣рдпреЛрдЧрд┐рдпреЛрдВ рдХреЛ `git fetch --prune` рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рд┐рдП

2. рд▓реЛрдХрд▓ рдмреНрд░рд╛рдВрдЪреЗрд╕ рд╣рдЯрд╛рдирд╛
   - рд╕реБрд░рдХреНрд╖рд┐рдд рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП `git branch -d` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
   - рдЕрдирдорд░реНрдЬреНрдб рдмреНрд░рд╛рдВрдЪреЗрд╕ рдХреЗ рд▓рд┐рдП `git branch -D` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ

3. рдореБрдЦреНрдп рдмреНрд░рд╛рдВрдЪ рдХрд╛ рдирд╛рдо
   - рдХрдИ рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА `main` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ
   - рдЕрдкрдиреА рд░реАрдХ рд╕реЗ рдореЗрд▓ рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП `--master main` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ

## ЁЯдЭ рдпреЛрдЧрджрд╛рди

Issue рдФрд░ PR рд╕реНрд╡рд╛рдЧрдд рд╣реИрдВ!

## ЁЯУЭ рд▓рд╛рдЗрд╕реЗрдВрд╕

MIT License

## ЁЯЩП рдЖрднрд╛рд░

рдкреНрд░реЗрд░рдгрд╛: Python рдкрд░рд┐рдпреЛрдЬрдирд╛ [git-sweep](https://github.com/arc90/git-sweep).

## ЁЯУо рдлреАрдбрдмреИрдХ

рд╕рдорд╕реНрдпрд╛рдПрдБ рдпрд╛ рд╕реБрдЭрд╛рд╡ рдХреЗ рд▓рд┐рдП:

- [Issue](https://github.com/leo-yi/git-sweep-rs/issues)
- [Pull Request](https://github.com/leo-yi/git-sweep-rs/pulls)

---

тнР рдХреГрдкрдпрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рд╕реНрдЯрд╛рд░ рдХрд░реЗрдВ рдпрджрд┐ рдпрд╣ рдЖрдкрдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реИ!

